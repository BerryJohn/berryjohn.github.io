(this.webpackJsonpberrycinema=this.webpackJsonpberrycinema||[]).push([[0],{30:function(e,t,n){},41:function(e,t,n){},46:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c,i=n(1),s=n.n(i),r=n(31),a=n.n(r),l=(n(41),n(36)),d=n(4),o=n(25),u=(n(46),n(21)),j=n.n(u),b=(n(68),n(9)),v=n(0),O=function(e){var t,n,s,r,a=Object(i.useRef)(null),l=Object(i.useRef)(null),o=Object(i.useRef)(null),u=Object(i.useState)(!0),j=Object(d.a)(u,2),O=j[0],f=j[1],m=function(){return f(!0)},h=function(){return e.videoStatusHandler()};return Object(v.jsxs)("div",{className:e.videoPlay&&O?"controlsWrapper cursorHidden":e.videoPlay?"controlsWrapper":"controlsWrapper controlsPaused",onMouseMove:function(){null!=c&&clearTimeout(c),c=setTimeout(m,2e3),f(!1)},onMouseLeave:function(){m()},onClick:function(e){!function(e){e.target===o.current&&h()}(e)},ref:o,children:[Object(v.jsx)("div",{className:O&&e.videoPlay?"videoTitle videoTitleHidden":"videoTitle",children:e.videoTitle}),Object(v.jsx)("div",{className:(O||e.videoPlay)&&e.videoPlay?"midVideoStatus midVideoStatusHidden":"midVideoStatus",onClick:h,children:e.videoPlay?Object(v.jsx)(b.c,{}):Object(v.jsx)(b.e,{})}),Object(v.jsx)("div",{className:O&&e.videoPlay?"smallTimeBar":"smallTimeBar hiddenSmallBar",ref:a,children:Object(v.jsx)("div",{className:"loadedTimeBar",style:{width:"".concat(((null===(t=a.current)||void 0===t?void 0:t.offsetWidth)||0)*e.loaded,"px")},children:Object(v.jsx)("div",{className:"currentTimeBar",style:{width:"".concat(((null===(n=a.current)||void 0===n?void 0:n.offsetWidth)||0)*e.played,"px")}})})}),Object(v.jsxs)("div",{className:O&&e.videoPlay?"bigBar hiddenBigBar":"bigBar",children:[Object(v.jsx)("div",{className:"videoStatus",onClick:h,children:e.videoPlay?Object(v.jsx)(b.c,{}):Object(v.jsx)(b.e,{})}),Object(v.jsx)("div",{className:"timers",children:Object(v.jsx)("span",{children:new Date(1e3*(null===e||void 0===e?void 0:e.playedSeconds)).toISOString().substr(11,8)})}),Object(v.jsx)("div",{className:"bigTimeBar",ref:l,children:Object(v.jsx)("div",{className:"loadedTimeBar",style:{width:"".concat(((null===(s=l.current)||void 0===s?void 0:s.offsetWidth)||0)*e.loaded,"px")},children:Object(v.jsx)("div",{className:"currentTimeBar",style:{width:"".concat(((null===(r=l.current)||void 0===r?void 0:r.offsetWidth)||0)*e.played,"px")}})})}),Object(v.jsx)("div",{className:"timers",children:Object(v.jsx)("span",{children:new Date(1e3*(null===e||void 0===e?void 0:e.videoDuration)).toISOString().substr(11,8)})}),Object(v.jsxs)("div",{className:"volume",children:[0===e.currentVolume?Object(v.jsx)(b.j,{}):e.currentVolume>.75?Object(v.jsx)(b.g,{}):e.currentVolume>.5?Object(v.jsx)(b.i,{}):e.currentVolume>.25?Object(v.jsx)(b.h,{}):Object(v.jsx)(b.k,{}),Object(v.jsx)("div",{className:"volumeSlider",children:Object(v.jsx)("input",{type:"range",min:"0",max:"100",onChange:function(t){return e.inputValueHandler(parseInt(t.target.value))}})})]}),Object(v.jsx)("div",{className:"fullscreen",onClick:e.fullscreenHandler.active?e.fullscreenHandler.exit:e.fullscreenHandler.enter,children:Object(v.jsx)(b.b,{})})]})]})},f=!1,m=function(e){var t,n,c,s=Object(i.useRef)(null),r=Object(i.useState)(!1),a=Object(d.a)(r,2),l=a[0],o=a[1],u=Object(i.useState)(50),b=Object(d.a)(u,2),m=b[0],h=b[1],x=Object(i.useState)(0),p=Object(d.a)(x,2),g=p[0],N=p[1],S=Object(i.useState)(0),k=Object(d.a)(S,2),V=k[0],C=k[1],T=Object(i.useState)(0),B=Object(d.a)(T,2),P=B[0],H=B[1],w=function(e){!0===e&&W(),o(e)},W=function(){y.emit("get-current-video-data")};return Object(i.useEffect)((function(){y.on("current-video-data",(function(e){var t,n=(null===e||void 0===e?void 0:e.currentTime)||0;null===(t=s.current)||void 0===t||t.seekTo(n)})),y.on("server-video-stop",(function(){w(!1)})),y.on("server-video-start",(function(){l||w(!0)})),y.on("end-of-queue",(function(){N(0),C(0),H(0)}))}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)(j.a,{className:"reactVideo",width:"100%",height:"100vh",volume:m,autoPlay:!0,playing:l,ref:s,url:null===(t=e.currentVideo)||void 0===t?void 0:t.link,onProgress:function(e){return function(e){C(e.played),N(e.loaded),H(e.playedSeconds)}(e)},onReady:function(){f||(y.emit("get-current-video-data"),f=!0)}}),Object(v.jsx)(O,{loaded:g,played:V,playedSeconds:P,videoDuration:(null===(n=e.currentVideo)||void 0===n?void 0:n.duration)||0,fullscreenHandler:null===e||void 0===e?void 0:e.fullscreenHandler,videoTitle:(null===(c=e.currentVideo)||void 0===c?void 0:c.title)||"",videoPlay:l,inputValueHandler:function(e){h(e/100)},currentVolume:m,videoStatusHandler:function(){l||W(),o(!l)}})]})},h=function(e){var t=Object(i.useState)(),n=Object(d.a)(t,2),c=n[0],s=n[1];Object(i.useEffect)((function(){y.on("user-change-video",(function(e){s(e)})),y.on("end-of-queue",(function(){s(void 0)}))}),[c]);var r=Object(o.b)();return Object(v.jsx)("div",{className:"videoContainer",children:Object(v.jsx)(o.a,{handle:r,children:Object(v.jsx)(m,{currentVideo:c,fullscreenHandler:r})})})},x=(n(70),n(35)),p=n.n(x),g=(n(30),function(e){return Object(v.jsxs)("div",{className:0===e.id?"elementWrapper elementWrapperFirst":"elementWrapper",children:[Object(v.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",children:Object(v.jsx)("div",{className:"image",children:Object(v.jsx)("img",{src:e.thumbnail,alt:"Video thumbnail"})})}),Object(v.jsxs)("div",{className:"elementInfo",children:[Object(v.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",children:Object(v.jsx)("div",{className:"title",children:e.title})}),Object(v.jsx)("div",{className:"description",children:e.description}),Object(v.jsx)("div",{className:"duration",children:new Date(1e3*e.duration).toISOString().substr(11,8)})]})]})}),N=function(e){var t=Object(i.useState)([]),n=Object(d.a)(t,2),c=n[0],s=n[1],r=Object(i.useState)(!1),a=Object(d.a)(r,2),l=a[0],o=a[1],u=Object(i.useState)(!1),O=Object(d.a)(u,2),f=O[0],m=O[1],h=Object(i.useState)(""),x=Object(d.a)(h,2),N=x[0],S=x[1],k=Object(i.useState)(""),V=Object(d.a)(k,2),C=V[0],T=V[1],B=Object(i.useState)(""),P=Object(d.a)(B,2),H=P[0],w=P[1],W=Object(i.useState)(0),D=Object(d.a)(W,2),I=D[0],R=D[1],F=Object(i.useRef)(null),q=Object(i.useRef)(null),L=Object(i.useRef)(null),E=Object(i.useRef)(null);Object(i.useEffect)((function(){y.on("current-video-array",(function(e){s(e)})),y.on("current-users-count",(function(e){R(e)}))}),[c]);var A=function(){o(!l),f&&m(!1)},M=function(){!function(){var e=N;if(j.a.canPlay(e)){var t,n,c=p()(e);t=null!==c?"https://img.youtube.com/vi/".concat(c,"/0.jpg"):"https://planasa.com/wp-content/uploads/2017/04/frambuesas-adelita.jpg",n=C.slice(0,50);var i="";0!==H.length&&(i=H.trim().slice(0,500));var s={link:e,thumbnail:t,title:n,description:i,duration:F.current.getDuration()};y.emit("user-add-video",s)}}(),S(""),T(""),w(""),A()},J=function(e){e?y.emit("server-video-start"):y.emit("server-video-stop")};return Object(v.jsxs)("div",{className:"queueWrapper",children:[Object(v.jsxs)("div",{className:f?"controlVideo controlVideoActive":"controlVideo",children:[Object(v.jsx)("input",{type:"range"}),Object(v.jsxs)("div",{className:"buttons",children:[Object(v.jsx)("div",{className:"controlButton",onClick:function(){return J(!0)},children:"play"}),Object(v.jsx)("div",{className:"controlButton",onClick:function(){return J(!1)},children:"stop"}),Object(v.jsx)("div",{className:"controlButton",onClick:function(){return y.emit("user-skip-video")},children:"skip"})]})]}),Object(v.jsxs)("div",{className:l?"addVideoForm addVideoFormActive":"addVideoForm",children:[Object(v.jsxs)("div",{className:"addControls",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Link:"}),Object(v.jsx)("input",{type:"text",value:N,onChange:function(e){S(e.target.value)},required:!0,ref:L})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Title:"}),Object(v.jsx)("input",{type:"text",value:C,onChange:function(e){T(e.target.value)},required:!0,maxLength:40,ref:q})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Description:"}),Object(v.jsx)("input",{type:"text",value:H,onChange:function(e){w(e.target.value)},maxLength:300,ref:E})]})]}),Object(v.jsx)("button",{onClick:function(){return M()},children:"Add"}),Object(v.jsx)(j.a,{style:{display:"none"},url:N,height:"300px",ref:F})]}),Object(v.jsxs)("div",{className:"queueStats",children:[Object(v.jsxs)("div",{className:"videoStats",children:[Object(v.jsx)("h1",{children:"Playlist"}),Object(v.jsxs)("span",{children:[Object(v.jsx)(b.d,{}),I]}),Object(v.jsxs)("span",{children:[Object(v.jsx)(b.f,{}),new Date(1e3*function(){var e=0;return c.forEach((function(t){return e+=t.duration})),e}()).toISOString().substr(11,8)]})]}),Object(v.jsxs)("div",{className:"buttons",children:[Object(v.jsx)("div",{className:"controlVideoButton",onClick:function(){return m(!f),void(l&&o(!1))},children:"Controls"}),Object(v.jsxs)("div",{className:"addVideo",onClick:function(){return A()},children:["Add Video ",Object(v.jsx)(b.a,{className:"addIcon"})]})]})]}),Object(v.jsx)("div",{className:"line"}),Object(v.jsx)("div",{className:"queueList",children:c.map((function(e,t){return Object(v.jsx)(g,{id:t,title:e.title,link:e.link,duration:e.duration,thumbnail:e.thumbnail,description:e.description||""},"video".concat(e.title).concat(e.link))}))})]})},y=Object(l.a)("http://maluch.mikr.us:30354"),S=function(){return Object(v.jsxs)("div",{className:"main",children:[Object(v.jsx)(h,{}),Object(v.jsx)(N,{})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),s(e),r(e)}))};a.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(S,{})}),document.getElementById("root")),k()}},[[71,1,2]]]);
//# sourceMappingURL=main.5d157754.chunk.js.map