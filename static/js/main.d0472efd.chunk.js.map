{"version":3,"sources":["Components/VideoPlayer/VideoControls.tsx","Components/VideoPlayer/VideoReactPlayer.tsx","Components/VideoPlayer/VideoPlayer.tsx","Components/Queue/QueueElement.tsx","Components/Queue/Queue.tsx","Components/App.tsx","reportWebVitals.ts","index.tsx"],"names":["timer","VideoControls","props","smallTimeBarRef","useRef","bigTimeBarRef","controlsRef","useState","hidden","setHidden","onMouseMoveLeaveHandler","videoStatusHandler","className","videoPlay","onMouseMove","clearTimeout","setTimeout","onMouseLeave","onClick","e","target","current","onMouseClickHandler","ref","videoTitle","style","width","offsetWidth","loaded","played","Date","playedSeconds","toISOString","substr","videoDuration","currentVolume","type","min","max","onChange","inputValueHandler","parseInt","value","fullscreenHandler","active","exit","enter","VideoReactPlayer","bigPlayer","videoPlayStatus","setVideoPlayStatus","videoVolume","setVideoVolume","videoCurrentLoaded","setVideoCurrentLoaded","videoCurrentPlayed","setVideoCurrentPlayed","videoCurrentPlayedSeconds","setVideoCurrentPlayedSeconds","serverVideoPlayStatusHandler","status","synchroVideoSeek","socket","emit","useEffect","on","video","newTime","currentTime","seekTo","console","log","height","volume","autoPlay","playing","url","currentVideo","link","onProgress","onProgressHandler","duration","title","VideoPlayer","setVideo","undefined","fcHandle","useFullScreenHandle","handle","QueueElement","src","thumbnail","alt","description","Queue","videos","setVideos","addVideoOpen","setAddVideoOpen","controlVideoOpen","setControlVideoOpen","linkValue","setLinkValue","titleValue","setTitleValue","descriptionValue","setDescriptionValue","smallPlayer","titleInput","linkInput","descriptionInput","videosQueue","openVideoHandler","addVideoButtonHandler","ReactPlayer","canPlay","ytid","getYouTubeID","slice","length","trim","newVideo","getDuration","addVideoHandler","videoServerStatusHandler","required","maxLength","display","map","el","io","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d0472efd.chunk.js","sourcesContent":["import React, {FC, useRef, useState} from 'react';\r\n\r\nimport './videoControls.scss';\r\n\r\nimport {IoPlayOutline, IoVolumeOffOutline, IoExpandOutline, IoPauseOutline, IoVolumeMuteOutline, IoVolumeHighOutline, IoVolumeMediumOutline, IoVolumeLowOutline} from 'react-icons/io5';\r\n\r\ninterface IVideoControls {\r\n    loaded: number;\r\n    played: number;\r\n    playedSeconds: number;\r\n    videoDuration: number;\r\n    fullscreenHandler: any;\r\n    videoTitle: string;\r\n    videoPlay: boolean;\r\n    currentVolume: number;\r\n\r\n    videoStatusHandler(): void;\r\n    inputValueHandler(volume: number): void;\r\n}\r\n\r\nlet timer: NodeJS.Timeout;\r\nconst VideoControls: FC<IVideoControls> = (props) => {\r\n    //refs\r\n    const smallTimeBarRef = useRef<HTMLDivElement>(null);\r\n    const bigTimeBarRef = useRef<HTMLDivElement>(null);\r\n    const controlsRef = useRef<HTMLDivElement>(null);\r\n    //states\r\n    const [hidden, setHidden] = useState<boolean>(true);\r\n    //handlers\r\n    const onMouseMoveHandler = () => {\r\n        if(timer != null)\r\n            clearTimeout(timer);\r\n\r\n        timer = setTimeout(onMouseMoveLeaveHandler,2000);\r\n        setHidden(false);\r\n    };\r\n\r\n    const onMouseMoveLeaveHandler = () => setHidden(true);\r\n\r\n    const onMouseClickHandler = (e: React.MouseEvent<HTMLElement>) => {\r\n        if(e.target === controlsRef.current)\r\n            videoStatusHandler();\r\n    };\r\n\r\n    const videoStatusHandler = () => props.videoStatusHandler();\r\n\r\n    // console.log('Relog controls');\r\n\r\n    return (\r\n        <div \r\n            className={props.videoPlay ? 'controlsWrapper' : 'controlsWrapper controlsPaused'}\r\n            onMouseMove={() => {onMouseMoveHandler()}}\r\n            onMouseLeave={() => {onMouseMoveLeaveHandler()}}\r\n            onClick={(e) => {onMouseClickHandler(e)}}\r\n            ref={controlsRef}\r\n        >\r\n            {/* Title */}\r\n            <div className={!hidden || !props.videoPlay ? 'videoTitle' : 'videoTitle videoTitleHidden'}>\r\n                {props.videoTitle}\r\n            </div>\r\n            {/* Middle video status */}\r\n            <div className={!hidden && !props.videoPlay  || !props.videoPlay ? 'midVideoStatus' : 'midVideoStatus midVideoStatusHidden'} onClick={videoStatusHandler}>\r\n                {!props.videoPlay ? <IoPlayOutline /> : <IoPauseOutline />}\r\n            </div>\r\n            {/* SMALL BAR */}\r\n            <div className={hidden && props.videoPlay ? 'smallTimeBar' : 'smallTimeBar hiddenSmallBar'} ref={smallTimeBarRef}>\r\n                <div className='loadedTimeBar' style={{width:`${(smallTimeBarRef.current?.offsetWidth || 0) * props.loaded}px`}}>\r\n                    <div className=\"currentTimeBar\" style={{width:`${(smallTimeBarRef.current?.offsetWidth || 0) * props.played}px`}} />\r\n                </div>\r\n            </div>\r\n            {/* BIG BAR */}\r\n            <div className={!hidden || !props.videoPlay  ? 'bigBar' : 'bigBar hiddenBigBar'}>\r\n                <div className='videoStatus' onClick={videoStatusHandler}>\r\n                    {!props.videoPlay ? <IoPlayOutline /> : <IoPauseOutline />}\r\n                </div>\r\n                <div className=\"timers\">\r\n                    <span>\r\n                        {new Date(props?.playedSeconds * 1000).toISOString().substr(11, 8)}\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"bigTimeBar\" ref={bigTimeBarRef}>\r\n                    <div className=\"loadedTimeBar\" style={{width:`${(bigTimeBarRef.current?.offsetWidth || 0) * props.loaded}px`}}>\r\n                        <div className=\"currentTimeBar\" style={{width:`${(bigTimeBarRef.current?.offsetWidth || 0) * props.played}px`}}/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"timers\">\r\n                    <span>\r\n                        {new Date(props?.videoDuration * 1000).toISOString().substr(11, 8)}\r\n                    </span>\r\n                </div>\r\n                <div className=\"volume\">\r\n                    { props.currentVolume === 0 ? <IoVolumeMuteOutline /> : \r\n                                props.currentVolume > 0.75 ? <IoVolumeHighOutline/> : \r\n                                props.currentVolume > 0.50 ? <IoVolumeMediumOutline/> : \r\n                                props.currentVolume > 0.25 ? <IoVolumeLowOutline/> :\r\n                                <IoVolumeOffOutline />  }\r\n                    <div className='volumeSlider'>\r\n                        <input type='range' min='0' max='100' onChange={(e) => props.inputValueHandler(parseInt(e.target.value))}/>\r\n                    </div>\r\n                </div>\r\n                <div className='fullscreen' onClick={!props.fullscreenHandler.active ? props.fullscreenHandler.enter : props.fullscreenHandler.exit}>\r\n                    <IoExpandOutline />\r\n                </div>\r\n            </div>\r\n            {/* END OF BIG BAR */}\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default VideoControls;","import React, {FC, useEffect, useRef, useState} from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport { IVideo, socket } from '../App';\r\nimport VideoControls from './VideoControls';\r\n\r\nimport './videoPlayer.scss';\r\n\r\ninterface IVideoReactPlayer {\r\n    currentVideo?: IVideo;\r\n    fullscreenHandler: any;\r\n}\r\n \r\nconst VideoReactPlayer: FC<IVideoReactPlayer> = (props) => {\r\n    //refs\r\n    const bigPlayer = useRef<ReactPlayer>(null);\r\n    //video states\r\n    const [videoPlayStatus, setVideoPlayStatus] = useState<boolean>(false);\r\n    const [videoVolume, setVideoVolume] = useState<number>(50);\r\n    const [videoCurrentLoaded, setVideoCurrentLoaded] = useState<number>(0);\r\n    const [videoCurrentPlayed, setVideoCurrentPlayed] = useState<number>(0);\r\n    const [videoCurrentPlayedSeconds, setVideoCurrentPlayedSeconds] = useState<number>(0);\r\n\r\n    //video handlers\r\n    const userVideoPlayStatusHandler = () => {\r\n        if(!videoPlayStatus)\r\n            synchroVideoSeek();\r\n        setVideoPlayStatus(!videoPlayStatus);\r\n    };\r\n\r\n    const serverVideoPlayStatusHandler = (status: boolean) => {\r\n        if(status === true)\r\n            synchroVideoSeek();\r\n        setVideoPlayStatus(status);\r\n    };\r\n\r\n    const onProgressHandler = (e:any) => {\r\n        setVideoCurrentPlayed(e.played)\r\n        setVideoCurrentLoaded(e.loaded)\r\n        setVideoCurrentPlayedSeconds(e.playedSeconds)\r\n    };\r\n    \r\n    const inputVolumeHandler = (volume: number) => {\r\n        setVideoVolume(volume/100);\r\n    };\r\n\r\n\r\n    // sockets\r\n\r\n    const synchroVideoSeek = () => {\r\n        socket.emit('get-current-video-data');\r\n    }\r\n\r\n    useEffect(() => {\r\n        socket.on('current-video-data', (video: IVideo) => {\r\n            const newTime: number = video?.currentTime || 0; \r\n            bigPlayer.current?.seekTo(newTime);\r\n            console.log('xD')\r\n        });\r\n        socket.on('server-video-stop',() => {\r\n            // if(videoPlayStatus)\r\n                serverVideoPlayStatusHandler(false);\r\n        });\r\n    \r\n        socket.on('server-video-start',() => {\r\n            if(!videoPlayStatus)\r\n                serverVideoPlayStatusHandler(true);\r\n        });\r\n        socket.on('end-of-queue', () => {\r\n            setVideoCurrentLoaded(0);\r\n            setVideoCurrentPlayed(0);\r\n            setVideoCurrentPlayedSeconds(0);\r\n        });\r\n    },[])\r\n\r\n    // console.log('xD reload react plejer');\r\n\r\n    return (\r\n        <div className='videoContainer'>\r\n                <ReactPlayer\r\n                    className='reactVideo'\r\n                    width='100%'\r\n                    height='100vh'\r\n                    volume={videoVolume}\r\n                    autoPlay={true}\r\n                    playing={videoPlayStatus}\r\n                    ref={bigPlayer}\r\n                    url={props.currentVideo?.link}\r\n                    onProgress={(e) => {onProgressHandler(e)}}\r\n                />\r\n                <VideoControls \r\n                    loaded={videoCurrentLoaded}\r\n                    played={videoCurrentPlayed}\r\n                    playedSeconds={videoCurrentPlayedSeconds}\r\n                    videoDuration={props.currentVideo?.duration || 0}\r\n                    fullscreenHandler={props?.fullscreenHandler}\r\n                    videoTitle={props.currentVideo?.title || ''}\r\n                    videoPlay={videoPlayStatus}\r\n                    inputValueHandler={e => inputVolumeHandler(e)}\r\n                    currentVolume={videoVolume}\r\n                    videoStatusHandler={userVideoPlayStatusHandler}\r\n                />\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default VideoReactPlayer;","import React, {FC, useEffect, useRef, useState} from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport { FullScreen, useFullScreenHandle } from \"react-full-screen\";\r\n\r\nimport { IVideo, socket } from '../App';\r\nimport './videoPlayer.scss';\r\nimport VideoReactPlayer from './VideoReactPlayer';\r\n\r\ninterface VideoPlayerProps {\r\n    currentVideo?: IVideo;\r\n}\r\n \r\nconst VideoPlayer: FC<VideoPlayerProps> = (props) => {\r\n\r\n    const [video, setVideo] = useState<IVideo>();\r\n\r\n    useEffect(() => {\r\n        socket.on('user-change-video', (currentVideo: IVideo) => {\r\n            setVideo(currentVideo);\r\n        });\r\n        socket.on('end-of-queue', () => {\r\n            setVideo(undefined);\r\n        });\r\n    },[video]);\r\n    \r\n    const fcHandle = useFullScreenHandle();\r\n\r\n    console.log('xD reload videoplayer')\r\n\r\n    return (\r\n        <div className='videoContainer'>\r\n            <FullScreen handle={fcHandle}>\r\n                <VideoReactPlayer \r\n                    currentVideo={video}\r\n                    fullscreenHandler={fcHandle}\r\n                />\r\n            </FullScreen>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default VideoPlayer;","import React,{FC } from 'react';\r\n\r\nimport './queue.scss';\r\n\r\n\r\ninterface IQueueElementProps {\r\n    title: string;\r\n    duration: number;\r\n    link: string;\r\n    thumbnail: string;\r\n    description: string;\r\n}\r\n \r\nconst QueueElement: FC<IQueueElementProps> = (props) => {\r\n\r\n    return ( \r\n        <div className='elementWrapper'>\r\n            <div className=\"image\">\r\n                <img src={props.thumbnail} alt='Video thumbnail'/>\r\n            </div>\r\n            <div className=\"elementInfo\">\r\n                <div className=\"title\">{props.title}</div>\r\n                <div className=\"description\">{props.description}</div>\r\n                <div className=\"duration\">{new Date(props.duration * 1000).toISOString().substr(11, 8)}</div>\r\n            </div>\r\n\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default QueueElement;","import React,{FC, useEffect, useRef, useState} from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport getYouTubeID from 'get-youtube-id';\r\n// import getYoutubeTitle from 'get-youtube-title';\r\n\r\nimport './queue.scss';\r\nimport {BiAddToQueue} from 'react-icons/bi'\r\n\r\nimport {IVideo, socket} from '../App';\r\nimport QueueElement from './QueueElement';\r\n\r\ninterface QueueProps {}\r\n \r\nconst Queue: FC<QueueProps> = (props) => {\r\n    const [videos, setVideos] = useState<IVideo[]>([])\r\n    const [addVideoOpen, setAddVideoOpen] = useState<boolean>(false);\r\n    const [controlVideoOpen, setControlVideoOpen] = useState<boolean>(false);\r\n\r\n    const [linkValue, setLinkValue] = useState<string>('');\r\n    const [titleValue, setTitleValue] = useState<string>('');\r\n    const [descriptionValue, setDescriptionValue] = useState<string>('');\r\n\r\n    const smallPlayer = useRef<ReactPlayer>(null);\r\n    const titleInput = useRef<HTMLInputElement>(null);\r\n    const linkInput = useRef<HTMLInputElement>(null);\r\n    const descriptionInput = useRef<HTMLInputElement>(null);\r\n\r\n    useEffect(() => {\r\n        socket.on('current-video-array', (videosQueue: IVideo[]) => {\r\n            setVideos(videosQueue);\r\n        });\r\n    }, [videos]);\r\n\r\n    const addVideoHandler = () => {\r\n        const link = linkValue;\r\n        if(ReactPlayer.canPlay(link))\r\n        {\r\n            const ytid = getYouTubeID(link);\r\n            let thumbnail: string;\r\n            if(ytid !== null)\r\n                thumbnail = `https://img.youtube.com/vi/${ytid}/0.jpg`;\r\n            else\r\n                thumbnail = 'https://planasa.com/wp-content/uploads/2017/04/frambuesas-adelita.jpg';\r\n                \r\n            let title: string;\r\n            // if(titleValue === '' && ytid !== null)\r\n                // title = getYoutubeTitle(ytid).slice(0,50);\r\n            // else\r\n            title = titleValue.slice(0,50);\r\n\r\n            let description: string = '';\r\n            if(descriptionValue.length !== 0)\r\n                description = descriptionValue.trim().slice(0,500);\r\n            const newVideo: IVideo = {\r\n                link,\r\n                thumbnail,\r\n                title,\r\n                description,\r\n                duration: smallPlayer.current!.getDuration(),\r\n            };\r\n            socket.emit('user-add-video', newVideo);\r\n        }\r\n    }\r\n\r\n    const openVideoHandler = () => {\r\n        setAddVideoOpen(!addVideoOpen);\r\n        if(controlVideoOpen)\r\n            setControlVideoOpen(false)\r\n    };\r\n    const openControlVideoHandler = () => {\r\n        setControlVideoOpen(!controlVideoOpen)\r\n        if(addVideoOpen)\r\n            setAddVideoOpen(false)\r\n    };\r\n    \r\n    const addVideoButtonHandler = () => {\r\n        addVideoHandler();\r\n        setLinkValue('');\r\n        setTitleValue('');\r\n        setDescriptionValue('');\r\n        openVideoHandler();\r\n    };\r\n\r\n    const videoServerStatusHandler = (status: boolean) => {\r\n        if(status)\r\n             socket.emit('server-video-start'); \r\n         else\r\n             socket.emit('server-video-stop');\r\n    };\r\n    const videoSkipHandler = () => socket.emit('user-skip-video');\r\n\r\n    console.log('xD reload queue')\r\n    return ( \r\n        <div className='queueWrapper'>\r\n            <div className={controlVideoOpen ? 'controlVideo controlVideoActive' : 'controlVideo'}>\r\n                    <input type='range' />\r\n                    <div className='buttons'>\r\n                        <div className='controlButton' onClick={() => videoServerStatusHandler(true)}>\r\n                            play\r\n                        </div>\r\n                        <div className='controlButton' onClick={() => videoServerStatusHandler(false)}>\r\n                            stop\r\n                        </div>\r\n                        <div className='controlButton' onClick={() => videoSkipHandler()}>\r\n                            skip\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            <div className={addVideoOpen ? 'addVideoForm addVideoFormActive' : 'addVideoForm'}>\r\n                <div className='addControls'>\r\n                    <div>\r\n                        <p>Link:</p>\r\n                        <input type=\"text\" value={linkValue} onChange={e => {setLinkValue(e.target.value)}} required={true} ref={linkInput}/>                        \r\n                    </div>\r\n                    <div>\r\n                        <p>Title:</p>\r\n                        <input type=\"text\" value={titleValue} onChange={e => {setTitleValue(e.target.value)}} required={true} maxLength={40} ref={titleInput}/>                        \r\n                    </div>\r\n                    <div>\r\n                        <p>Description:</p>\r\n                        <input type=\"text\" value={descriptionValue} onChange={e => {setDescriptionValue(e.target.value)}} maxLength={300} ref={descriptionInput}/>\r\n                    </div>\r\n                </div>\r\n                <button onClick={() => addVideoButtonHandler()}>Add</button>\r\n                <ReactPlayer style={{display:'none'}} url={linkValue} height={`300px`} ref={smallPlayer} />\r\n            </div>\r\n            <div className='queueStats'>\r\n                <h1>Playlista</h1>\r\n                <div className='buttons'>\r\n                    <div className='controlVideoButton' onClick={() => openControlVideoHandler()}>\r\n                        Controls\r\n                    </div>\r\n                    <div className='addVideo' onClick={() => openVideoHandler()}>\r\n                        Add Video <BiAddToQueue className='addIcon'/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"line\" />\r\n            <div className='queueList'>\r\n                {videos.map(el => (\r\n                    <QueueElement \r\n                        title={el.title} \r\n                        link={el.link} \r\n                        duration={el.duration} \r\n                        thumbnail={el.thumbnail} \r\n                        description={el.description || ''}/>\r\n                ))}\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Queue;","import { io } from 'socket.io-client';\r\n\r\nimport React, {FC} from 'react';\r\n\r\nimport VideoPlayer from './VideoPlayer/VideoPlayer';\r\nimport './app.scss';\r\nimport Queue from './Queue/Queue';\r\n \r\nexport interface IVideo{\r\n    link: string;\r\n    thumbnail: string;\r\n    title: string;\r\n\r\n    description?: string;\r\n    duration: number;\r\n    currentTime?: number;\r\n\r\n    playing?: boolean;\r\n}\r\n\r\nexport const socket = io('http://kinoharnas.bieda.it');\r\n\r\nconst App:FC = () => {\r\n\r\n    console.log('app relog')\r\n    return (\r\n        <div className=\"main\">\r\n            <VideoPlayer />\r\n            <Queue \r\n                // addVideoHandler={addVideoHandler}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}