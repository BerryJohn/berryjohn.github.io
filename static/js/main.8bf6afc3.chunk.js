(this.webpackJsonpberrycinema=this.webpackJsonpberrycinema||[]).push([[0],{30:function(e,t,n){},41:function(e,t,n){},46:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c,i=n(1),s=n.n(i),a=n(31),r=n.n(a),l=(n(41),n(36)),d=n(4),o=n(25),u=(n(46),n(21)),j=n.n(u),b=(n(68),n(9)),v=n(0),O=function(e){var t,n,s,a,r=Object(i.useRef)(null),l=Object(i.useRef)(null),o=Object(i.useRef)(null),u=Object(i.useState)(!0),j=Object(d.a)(u,2),O=j[0],m=j[1],f=function(){return m(!0)},h=function(){return e.videoStatusHandler()};return Object(v.jsxs)("div",{className:e.videoPlay&&O?"controlsWrapper cursorHidden":e.videoPlay?"controlsWrapper":"controlsWrapper controlsPaused",onMouseMove:function(){null!=c&&clearTimeout(c),c=setTimeout(f,2e3),m(!1)},onMouseLeave:function(){f()},onClick:function(e){!function(e){e.target===o.current&&h()}(e)},ref:o,children:[Object(v.jsx)("div",{className:O&&e.videoPlay?"videoTitle videoTitleHidden":"videoTitle",children:e.videoTitle}),Object(v.jsx)("div",{className:(O||e.videoPlay)&&e.videoPlay?"midVideoStatus midVideoStatusHidden":"midVideoStatus",onClick:h,children:e.videoPlay?Object(v.jsx)(b.c,{}):Object(v.jsx)(b.e,{})}),Object(v.jsx)("div",{className:O&&e.videoPlay?"smallTimeBar":"smallTimeBar hiddenSmallBar",ref:r,children:Object(v.jsx)("div",{className:"loadedTimeBar",style:{width:"".concat(((null===(t=r.current)||void 0===t?void 0:t.offsetWidth)||0)*e.loaded,"px")},children:Object(v.jsx)("div",{className:"currentTimeBar",style:{width:"".concat(((null===(n=r.current)||void 0===n?void 0:n.offsetWidth)||0)*e.played,"px")}})})}),Object(v.jsxs)("div",{className:O&&e.videoPlay?"bigBar hiddenBigBar":"bigBar",children:[Object(v.jsx)("div",{className:"videoStatus",onClick:h,children:e.videoPlay?Object(v.jsx)(b.c,{}):Object(v.jsx)(b.e,{})}),Object(v.jsx)("div",{className:"timers",children:Object(v.jsx)("span",{children:new Date(1e3*(null===e||void 0===e?void 0:e.playedSeconds)).toISOString().substr(11,8)})}),Object(v.jsx)("div",{className:"bigTimeBar",ref:l,children:Object(v.jsx)("div",{className:"loadedTimeBar",style:{width:"".concat(((null===(s=l.current)||void 0===s?void 0:s.offsetWidth)||0)*e.loaded,"px")},children:Object(v.jsx)("div",{className:"currentTimeBar",style:{width:"".concat(((null===(a=l.current)||void 0===a?void 0:a.offsetWidth)||0)*e.played,"px")}})})}),Object(v.jsx)("div",{className:"timers",children:Object(v.jsx)("span",{children:new Date(1e3*(null===e||void 0===e?void 0:e.videoDuration)).toISOString().substr(11,8)})}),Object(v.jsxs)("div",{className:"volume",children:[0===e.currentVolume?Object(v.jsx)(b.j,{}):e.currentVolume>.75?Object(v.jsx)(b.g,{}):e.currentVolume>.5?Object(v.jsx)(b.i,{}):e.currentVolume>.25?Object(v.jsx)(b.h,{}):Object(v.jsx)(b.k,{}),Object(v.jsx)("div",{className:"volumeSlider",children:Object(v.jsx)("input",{type:"range",min:"0",max:"100",onChange:function(t){return e.inputValueHandler(parseInt(t.target.value))}})})]}),Object(v.jsx)("div",{className:"fullscreen",onClick:e.fullscreenHandler.active?e.fullscreenHandler.exit:e.fullscreenHandler.enter,children:Object(v.jsx)(b.b,{})})]})]})},m=function(e){var t,n,c,s=Object(i.useRef)(null),a=Object(i.useState)(!1),r=Object(d.a)(a,2),l=r[0],o=r[1],u=Object(i.useState)(50),b=Object(d.a)(u,2),m=b[0],f=b[1],h=Object(i.useState)(0),x=Object(d.a)(h,2),p=x[0],g=x[1],y=Object(i.useState)(0),S=Object(d.a)(y,2),k=S[0],V=S[1],C=Object(i.useState)(0),T=Object(d.a)(C,2),B=T[0],P=T[1],H=function(e){!0===e&&w(),o(e)},w=function(){N.emit("get-current-video-data")};return Object(i.useEffect)((function(){N.on("current-video-data",(function(e){var t,n=(null===e||void 0===e?void 0:e.currentTime)||0;null===(t=s.current)||void 0===t||t.seekTo(n)})),N.on("server-video-stop",(function(){H(!1)})),N.on("server-video-start",(function(){l||H(!0)})),N.on("end-of-queue",(function(){g(0),V(0),P(0)}))}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)(j.a,{className:"reactVideo",width:"100%",height:"100vh",volume:m,autoPlay:!0,playing:l,ref:s,url:null===(t=e.currentVideo)||void 0===t?void 0:t.link,onProgress:function(e){return function(e){V(e.played),g(e.loaded),P(e.playedSeconds)}(e)},onReady:function(){N.emit("get-current-video-data")}}),Object(v.jsx)(O,{loaded:p,played:k,playedSeconds:B,videoDuration:(null===(n=e.currentVideo)||void 0===n?void 0:n.duration)||0,fullscreenHandler:null===e||void 0===e?void 0:e.fullscreenHandler,videoTitle:(null===(c=e.currentVideo)||void 0===c?void 0:c.title)||"",videoPlay:l,inputValueHandler:function(e){f(e/100)},currentVolume:m,videoStatusHandler:function(){l||w(),o(!l)}})]})},f=function(e){var t=Object(i.useState)(),n=Object(d.a)(t,2),c=n[0],s=n[1];Object(i.useEffect)((function(){N.on("user-change-video",(function(e){s(e)})),N.on("end-of-queue",(function(){s(void 0)}))}),[c]);var a=Object(o.b)();return Object(v.jsx)("div",{className:"videoContainer",children:Object(v.jsx)(o.a,{handle:a,children:Object(v.jsx)(m,{currentVideo:c,fullscreenHandler:a})})})},h=(n(70),n(35)),x=n.n(h),p=(n(30),function(e){return Object(v.jsxs)("div",{className:0===e.id?"elementWrapper elementWrapperFirst":"elementWrapper",children:[Object(v.jsx)("a",{href:e.link,target:"_blank",children:Object(v.jsx)("div",{className:"image",children:Object(v.jsx)("img",{src:e.thumbnail,alt:"Video thumbnail"})})}),Object(v.jsxs)("div",{className:"elementInfo",children:[Object(v.jsx)("a",{href:e.link,target:"_blank",children:Object(v.jsx)("div",{className:"title",children:e.title})}),Object(v.jsx)("div",{className:"description",children:e.description}),Object(v.jsx)("div",{className:"duration",children:new Date(1e3*e.duration).toISOString().substr(11,8)})]})]})}),g=function(e){var t=Object(i.useState)([]),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(i.useState)(!1),r=Object(d.a)(a,2),l=r[0],o=r[1],u=Object(i.useState)(!1),O=Object(d.a)(u,2),m=O[0],f=O[1],h=Object(i.useState)(""),g=Object(d.a)(h,2),y=g[0],S=g[1],k=Object(i.useState)(""),V=Object(d.a)(k,2),C=V[0],T=V[1],B=Object(i.useState)(""),P=Object(d.a)(B,2),H=P[0],w=P[1],W=Object(i.useState)(0),D=Object(d.a)(W,2),I=D[0],R=D[1],F=Object(i.useRef)(null),q=Object(i.useRef)(null),L=Object(i.useRef)(null),E=Object(i.useRef)(null);Object(i.useEffect)((function(){N.on("current-video-array",(function(e){s(e)})),N.on("current-users-count",(function(e){R(e)}))}),[c]);var A=function(){o(!l),m&&f(!1)},M=function(){!function(){var e=y;if(j.a.canPlay(e)){var t,n,c=x()(e);t=null!==c?"https://img.youtube.com/vi/".concat(c,"/0.jpg"):"https://planasa.com/wp-content/uploads/2017/04/frambuesas-adelita.jpg",n=C.slice(0,50);var i="";0!==H.length&&(i=H.trim().slice(0,500));var s={link:e,thumbnail:t,title:n,description:i,duration:F.current.getDuration()};N.emit("user-add-video",s)}}(),S(""),T(""),w(""),A()},J=function(e){e?N.emit("server-video-start"):N.emit("server-video-stop")};return Object(v.jsxs)("div",{className:"queueWrapper",children:[Object(v.jsxs)("div",{className:m?"controlVideo controlVideoActive":"controlVideo",children:[Object(v.jsx)("input",{type:"range"}),Object(v.jsxs)("div",{className:"buttons",children:[Object(v.jsx)("div",{className:"controlButton",onClick:function(){return J(!0)},children:"play"}),Object(v.jsx)("div",{className:"controlButton",onClick:function(){return J(!1)},children:"stop"}),Object(v.jsx)("div",{className:"controlButton",onClick:function(){return N.emit("user-skip-video")},children:"skip"})]})]}),Object(v.jsxs)("div",{className:l?"addVideoForm addVideoFormActive":"addVideoForm",children:[Object(v.jsxs)("div",{className:"addControls",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Link:"}),Object(v.jsx)("input",{type:"text",value:y,onChange:function(e){S(e.target.value)},required:!0,ref:L})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Title:"}),Object(v.jsx)("input",{type:"text",value:C,onChange:function(e){T(e.target.value)},required:!0,maxLength:40,ref:q})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Description:"}),Object(v.jsx)("input",{type:"text",value:H,onChange:function(e){w(e.target.value)},maxLength:300,ref:E})]})]}),Object(v.jsx)("button",{onClick:function(){return M()},children:"Add"}),Object(v.jsx)(j.a,{style:{display:"none"},url:y,height:"300px",ref:F})]}),Object(v.jsxs)("div",{className:"queueStats",children:[Object(v.jsxs)("div",{className:"videoStats",children:[Object(v.jsx)("h1",{children:"Playlist"}),Object(v.jsxs)("span",{children:[Object(v.jsx)(b.d,{}),I]}),Object(v.jsxs)("span",{children:[Object(v.jsx)(b.f,{}),new Date(1e3*function(){var e=0;return c.forEach((function(t){return e+=t.duration})),e}()).toISOString().substr(11,8)]})]}),Object(v.jsxs)("div",{className:"buttons",children:[Object(v.jsx)("div",{className:"controlVideoButton",onClick:function(){return f(!m),void(l&&o(!1))},children:"Controls"}),Object(v.jsxs)("div",{className:"addVideo",onClick:function(){return A()},children:["Add Video ",Object(v.jsx)(b.a,{className:"addIcon"})]})]})]}),Object(v.jsx)("div",{className:"line"}),Object(v.jsx)("div",{className:"queueList",children:c.map((function(e,t){return Object(v.jsx)(p,{id:t,title:e.title,link:e.link,duration:e.duration,thumbnail:e.thumbnail,description:e.description||""},"video".concat(e.title).concat(e.link))}))})]})},N=Object(l.a)("http://maluch.mikr.us:30354"),y=function(){return Object(v.jsxs)("div",{className:"main",children:[Object(v.jsx)(f,{}),Object(v.jsx)(g,{})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))};r.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(y,{})}),document.getElementById("root")),S()}},[[71,1,2]]]);
//# sourceMappingURL=main.8bf6afc3.chunk.js.map